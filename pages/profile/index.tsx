import Head from 'next/head';
import Header from '../../Components/Elements/Header';
import CreatePost from '../../Components/Elements/CreatePost';
import { GetServerSideProps, NextPage } from 'next';
import { useRouter } from 'next/router';

const Profile: NextPage<{ options: any; genre: any }> = ({
  options,
  genre,
}) => {
  const router = useRouter();

  return (
    <>
      <Head>
        <title>cine.mize</title>
        <meta name='description' content='Generated by create next app' />
        <link rel='icon' href='/favicon.ico' />
      </Head>
      <Header />
      <section className='flex gap-1 py-14'>
        <CreatePost options={options} genre={genre} />
        <section className='flex-1 flex flex-col gap-4 pt-8'>
          <div className='relative flex flex-col gap-2 border p-3 rounded'>
            <span className='text-sm absolute left-2 -top-3 bg-white dark:bg-dark px-1'>
              @cinemize
            </span>
            <div className='flex items-center justify-between'>
              <p className='text-sm'>Cinemize</p>
              <button className='text-xs'>atualizar</button>
            </div>
            <p className='text-sm'> desc: Perfil oficial do Cinemize</p>
            <p className='text-sm'>location: Rio de Janeiro, Brazil</p>
            {router.pathname !== '/profile' && (
              <div className='flex items-center justify-end'>
                <button className='flex text-sm transition hover:bg-indigo-800 bg-indigo-600 text-white px-3 py-1 rounded-lg'>
                  Seguir
                </button>
              </div>
            )}
          </div>
        </section>
      </section>
    </>
  );
};
export default Profile;

export const getServerSideProps: GetServerSideProps = async (ctx) => {
  const options = [
    'netflix',
    'amazon',
    'star+',
    'hbo max',
    'youtube',
    'disney+',
  ];
  const genre = ['triller', 'action', 'comedy'];

  // const posts = [
  //   {
  //     id: '1',
  //     verified: true,
  //     user: 'cinemize',
  //     title: 'O segredo dos seus olhos',
  //     genres: ['triller', 'action'],
  //     comment: 'this is an amazing movie',
  //     whereToWatch: ['netflix', 'amazon'],
  //     type: 'movie',
  //     likes: {
  //       total: 5,
  //       likedBy: [],
  //     },
  //   },
  //   {
  //     id: '2',
  //     verified: true,
  //     user: 'cinemize',
  //     title: 'O segredo dos seus olhos',
  //     genres: ['triller', 'action'],
  //     comment: 'this is an amazing movie',
  //     whereToWatch: ['netflix', 'amazon'],
  //     type: 'movie',
  //     likes: {
  //       total: 5,
  //       likedBy: [],
  //     },
  //   },
  //   {
  //     id: '3',
  //     verified: false,
  //     user: 'cinemize',
  //     title: 'O segredo dos seus olhos',
  //     genres: ['triller', 'action'],
  //     comment: 'this is an amazing movie',
  //     whereToWatch: ['netflix', 'amazon'],
  //     type: 'movie',
  //     likes: {
  //       total: 5,
  //       likedBy: [],
  //     },
  //   },
  // ];

  return {
    props: {
      options,
      genre,
    },
  };
};
